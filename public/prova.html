<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>DJ TOTY GEE LIVE</title>

    <script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/ngokevin/aframe-event-set-component@master/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/super-hands@3.0.3/dist/super-hands.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://unpkg.com/aframe-randomizer-components@3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>

    <script>
      // Simple replacement for spawn-in-circle
      AFRAME.registerComponent('spawn-in-circle', {
        schema: { radius: { type: 'number', default: 3 } },
        init: function () {
          const el = this.el;
          const radius = this.data.radius;
          const angle = Math.random() * Math.PI * 2;
          const x = radius * Math.cos(angle);
          const z = radius * Math.sin(angle);
          el.setAttribute('position', { x, y: 1.7, z });
        },
      });
    </script>
  </head>
  <body style="background-color:black;">
    <a-scene>
      <a-assets>
        <img id="rug" crossorigin="anonymous" src="https://dragossido.github.io/public/assets/dj_toty_gee_3.png" />
      </a-assets>

      <a-entity camera position="0 1.7 0" spawn-in-circle wasd-controls look-controls></a-entity>

      <a-plane
        rotation="-90 0 0"
        width="50"
        height="50"
        material="src:#rug; repeat:100 100"
      ></a-plane>

      <a-box color="red" position="0 1.5 -5"></a-box>
      <a-sky color="#2f2c2c"></a-sky>
    </a-scene>
  </body>
</html>
